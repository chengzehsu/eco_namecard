{
  "alert_rules": {
    "critical_errors": {
      "name": "Critical System Errors",
      "description": "Alert when critical errors occur",
      "conditions": {
        "event_level": "critical",
        "time_window": "5m",
        "threshold": 1
      },
      "actions": {
        "notify_channels": ["email", "slack"],
        "escalation_time": "15m"
      }
    },
    "ai_processing_failures": {
      "name": "AI Processing High Failure Rate",
      "description": "Alert when AI processing fails frequently",
      "conditions": {
        "category": "ai_processing",
        "event_level": "error",
        "time_window": "10m",
        "threshold": 5
      },
      "actions": {
        "notify_channels": ["email"],
        "escalation_time": "30m"
      }
    },
    "notion_storage_issues": {
      "name": "Notion Storage Problems",
      "description": "Alert when Notion storage fails",
      "conditions": {
        "category": "data_storage",
        "event_level": ["error", "warning"],
        "time_window": "5m",
        "threshold": 3
      },
      "actions": {
        "notify_channels": ["email", "slack"],
        "escalation_time": "10m"
      }
    },
    "security_incidents": {
      "name": "Security Incidents",
      "description": "Alert on any security-related events",
      "conditions": {
        "category": "security",
        "event_level": ["warning", "error", "critical"],
        "time_window": "1m",
        "threshold": 1
      },
      "actions": {
        "notify_channels": ["email", "slack", "sms"],
        "escalation_time": "5m"
      }
    },
    "performance_degradation": {
      "name": "Performance Degradation",
      "description": "Alert when response times are consistently high",
      "conditions": {
        "metric_type": "performance",
        "metric_name": "avg_response_time",
        "threshold": 5.0,
        "time_window": "15m"
      },
      "actions": {
        "notify_channels": ["email"],
        "escalation_time": "30m"
      }
    },
    "rate_limit_abuse": {
      "name": "Rate Limit Abuse",
      "description": "Alert when users consistently hit rate limits",
      "conditions": {
        "tag_key": "security_issue",
        "tag_value": "rate_limit_exceeded",
        "time_window": "5m",
        "threshold": 10
      },
      "actions": {
        "notify_channels": ["email"],
        "escalation_time": "20m"
      }
    },
    "webhook_failures": {
      "name": "LINE Webhook Failures",
      "description": "Alert when LINE webhooks fail frequently",
      "conditions": {
        "category": "line_bot",
        "event_level": "error",
        "time_window": "10m",
        "threshold": 5
      },
      "actions": {
        "notify_channels": ["email"],
        "escalation_time": "15m"
      }
    }
  },
  "notification_channels": {
    "email": {
      "type": "email",
      "recipients": ["admin@yourcompany.com"],
      "template": "detailed"
    },
    "slack": {
      "type": "slack",
      "webhook_url": "https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK",
      "channel": "#alerts",
      "username": "Sentry Bot"
    },
    "sms": {
      "type": "sms",
      "service": "twilio",
      "numbers": ["+1234567890"],
      "message_template": "CRITICAL: {title} - {message}"
    }
  },
  "dashboard_metrics": {
    "key_performance_indicators": [
      {
        "name": "System Uptime",
        "type": "availability",
        "target": 99.9,
        "time_window": "24h"
      },
      {
        "name": "AI Processing Success Rate",
        "type": "success_rate",
        "category": "ai_processing",
        "target": 95.0,
        "time_window": "1h"
      },
      {
        "name": "Average Response Time",
        "type": "performance",
        "metric": "avg_response_time",
        "target": 3.0,
        "time_window": "5m"
      },
      {
        "name": "Error Rate",
        "type": "error_rate",
        "target": 1.0,
        "time_window": "10m"
      },
      {
        "name": "Daily Active Users",
        "type": "business_metric",
        "category": "user_behavior",
        "time_window": "24h"
      }
    ],
    "custom_queries": [
      {
        "name": "Top Error Types",
        "query": "event.level:error | group by exception.type | sort by count desc | limit 10",
        "refresh_interval": "5m"
      },
      {
        "name": "Slowest Operations",
        "query": "category:system_performance | sort by duration desc | limit 20",
        "refresh_interval": "1m"
      },
      {
        "name": "Security Events Timeline",
        "query": "category:security | sort by timestamp desc",
        "refresh_interval": "30s"
      },
      {
        "name": "User Activity Heatmap",
        "query": "category:user_behavior | group by hour | count",
        "refresh_interval": "10m"
      }
    ]
  },
  "maintenance_tasks": {
    "daily": [
      "Review error trends and patterns",
      "Check performance metric thresholds",
      "Verify alert notifications are working"
    ],
    "weekly": [
      "Analyze user behavior patterns",
      "Review security incident reports",
      "Update alert thresholds based on trends",
      "Performance baseline review"
    ],
    "monthly": [
      "Full system health review",
      "Alert rule effectiveness analysis",
      "Monitoring infrastructure optimization",
      "Stakeholder reporting"
    ]
  },
  "integration_settings": {
    "sentry": {
      "sample_rate": 1.0,
      "traces_sample_rate": 0.1,
      "profiles_sample_rate": 0.1,
      "environment": "production",
      "release_tracking": true,
      "performance_monitoring": true,
      "error_filtering": {
        "ignore_errors": [
          "BrokenPipeError",
          "ConnectionResetError"
        ],
        "ignore_patterns": [
          "health check",
          "bot crawler"
        ]
      }
    },
    "retention": {
      "events": "90 days",
      "performance_data": "30 days",
      "user_sessions": "30 days"
    }
  }
}